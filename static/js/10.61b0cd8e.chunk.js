(this.webpackJsonpfixabay=this.webpackJsonpfixabay||[]).push([[10],{97:function(e,t,a){"use strict";a.r(t);var r=a(13),n=a.n(r),c=a(6),s=a(30),i=a(5),u=a(1),o=a(8),p=a(17),f=a(108),h=a(49),b=a(39),l=a(126),j=a.n(l),O=function(){var e=Object(s.a)(n.a.mark((function e(t,a){var r;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.get(t,{params:a});case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();var d=function(e){var t=Object(b.e)((function(t){return["".concat(f.a,"&page=").concat(t+1),e]}),O),a=t.data,r=t.error;return{data:a,isLoading:!r&&!a,isError:!!r,size:t.size,setSize:t.setSize,refresh:t.mutate}},v=a(189),g=a(190),m=a(36),w=a(135),x=a(2);t.default=function(){var e=Object(o.h)(),t=Object(h.e)(e.pathname.replace(p.c.swr.path,"")),a=Object(h.f)(e.search,"q")||"",r=Object(w.a)(f.d.recentSearches),b=Object(i.a)(r,2),l=b[0],j=b[1],O=Object(u.useState)({per_page:f.c,image_type:t,q:a||""}),k=Object(i.a)(O,2),y=k[0],S=k[1],z=d(y),q=z.data,E=z.isLoading,M=z.isError,_=z.size,L=z.setSize,C=z.refresh,H=q?q.flatMap((function(e){return e.hits})):[],J=Object(u.useMemo)((function(){return(null===q||void 0===q?void 0:q.length)?q[0].totalHits:0}),[(null===q||void 0===q?void 0:q.length)&&q[0].totalHits])!==H.length,A=Object(u.useCallback)(Object(s.a)(n.a.mark((function e(){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S(Object(c.a)(Object(c.a)({},y),{},{image_type:t,q:a})),e.next=3,L(0);case 3:return e.next=5,C();case 5:case"end":return e.stop()}}),e)}))),[t,y,C,a,L]);Object(u.useEffect)((function(){a.length&&j((null===l||void 0===l?void 0:l.length)?Array.from(new Set(l.concat(a).slice(l.length>1?-5:0))):[a]),(y.image_type!==t||y.q!==a)&&A()}),[t,a]);var D=Object(u.useCallback)(Object(s.a)(n.a.mark((function e(){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L(_+1);case 2:case"end":return e.stop()}}),e)}))),[L,_]);return Object(x.jsx)(v.a,{isLoading:E,isError:M,menu:Object.values(p.c).filter((function(e){var t=e.isPage,a=e.isNave;return t&&a})).map((function(e){return{path:e.path,name:e.name}})),title:p.a.swr.name,description:p.a.swr.name,path:p.a.swr.path,children:E||J||H.length?Object(x.jsx)(g.a,{images:H,hasMore:J,fetchMoreData:D}):Object(x.jsx)(m.a,{isSearch:!0})})}}}]);
//# sourceMappingURL=10.61b0cd8e.chunk.js.map